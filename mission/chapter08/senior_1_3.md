### 3️⃣ 언제 적용하면 좋을 지 파악하기

## **@DynamicInsert를 사용하기 좋은 경우**

**DB Default/Trigger를 적극적으로 활용하는 설계인 경우**

- 자바 코드에서 따로 값을 세팅하고 싶지 않을 때
- “값을 안 줬을 때는 DB가 알아서 기본값을 정한다” 라는 정책이 분명할 때

**컬럼 수가 많고, 대부분 null로 두는 엔티티**

마스터 테이블이 너무 넓어서 한 번에 다 채우지 않고,

상황에 따라 필요한 정보만 채우는 패턴일 때 약간의 효율 향상을 노려볼 수 있다.

**초기 삽입 시에만 DB 로직에 맡기고 싶을 때**

예: auditing용 created_by, created_at을 DB에서만 관리하고 싶을 때

> 그 외의 일반적인 CRUD용 소규모 엔티티에서는
> 
> 
> 굳이 @DynamicInsert를 넣지 않는 편이 유지보수 관점에서 더 깔끔할거 같다. 
> 

## @DynamicUpdate를 사용하기 좋은 경우

**엔티티가 매우 넓고, 일부 필드만 자주 수정되는 경우**

50~100개 컬럼짜리 테이블인데,자주 바뀌는 건 3~4개의 상태/설정 필드 뿐인 경우

이런 경우, SET 절에서 전체 필드를 업데이트하는 것은 낭비일 수 있다.

**특정 컬럼 변경에만 반응하는 DB 트리거/감사 로직이 있을 때**

필요 없는 컬럼까지 매번 UPDATE에 포함하면, 

트리거가 과하게 발동하거나 로그가 불필요하게 증가할 수 있다.

**부분 수정(PATCH) 느낌으로 동작시키고 싶을 때**

사용자 프로필의 일부 필드만 자주 바뀌는 경우

> 그 외 일반적인 “작은 엔티티 + 자주 전체 변경” 패턴에서는
> 
> 
> dynamicUpdate의 이득이 미미하고, 오히려 쿼리 캐시만 더 더럽힐 수 있다.
>